# 交通可持续指标计算说明

## 1. 载人量（Passenger Throughput）

### 输入
- `car_count` : 小汽车数量
- `ebike_count` : 电动车数量
- `bus_count` : 公交车数量

### 固定参数
```python
P_car_avg  = 1.3   # 平均每辆小汽车载客人数
P_ebike_avg = 1.1  # 平均每辆电动车载客人数
P_bus_avg  = 60    # 平均每辆公交车载客人数
```

### 计算流程
```python
passenger_throughput = (
    P_car_avg   * car_count +
    P_ebike_avg * ebike_count +
    P_bus_avg   * bus_count
)
```

### 输出
- `passenger_throughput` : 载人量 / 人次

---

## 2. CO₂ 排放量（kg）

### 输入
- `car_count` : 小汽车数量
- `ebike_count` : 电动车数量
- `bus_count` : 公交车数量
- `road_length_km` : 道路长度（km）

### 固定参数
```python
EF_car_petrol = 0.131  # kg CO₂ / 车·km（汽油车）
ratio_petrol  = 0.754  # 小汽车中汽油车占比
EF_car_elec   = 0.074  # kg CO₂ / 车·km（电动小汽车）
ratio_elec    = 0.246  # 小汽车中电动占比
EF_ebike      = 0.0066 # kg CO₂ / 车·km（电动自行车）
EF_bus        = 0.44   # kg CO₂ / 车·km（深圳公交为纯电）
```

### 计算流程
```python
co2_emission = (
    EF_car_petrol * ratio_petrol * car_count +
    EF_car_elec   * ratio_elec   * car_count +
    EF_ebike * ebike_count +
    EF_bus   * bus_count
) * road_length_km
```

### 输出
- `co2_emission` : CO₂ 排放量 / kg

---

## 3. 安全性指数（Safety Index）

### 输入
- `car_count` : 小汽车数量
- `ebike_count` : 电动车数量
- `bus_count` : 公交车数量
- `road_length_km` : 道路长度（km）

### 固定参数
```python
W_car   = 1  # 汽车事故系数
W_ebike = 5  # 电动车事故系数
W_bus   = 2  # 公交车事故系数
```

### 计算流程
```python
safety_index = (
    W_car   * car_count +
    W_ebike * ebike_count +
    W_bus   * bus_count
) / road_length_km
```

### 输出
- `safety_index` : 安全性指数（无量纲，值越小越安全）

---

## 4. 拥堵指数（Congestion Index）

### 输入
- `ebike_count` : 电动车数量
- `bus_count` : 公交车数量
- `pedestrian_count` : 步行者数量
- `car_count` : 小汽车数量
- `road_length_km` : 道路长度（km）
- `road_type_code` : 道路类型代码  
  - 1 = 高速公路  
  - 2 = 主干道  
  - 3 = 次干道  
  - 4 = 支路

### 固定参数
```python
K_ebike   = 0.321
K_bus     = 0.224
K_walk    = 0.172
K_car     = 0.170
K_length  = 0.093
K_type    = 0.019
Intercept = 0.1332
Multiplier = 0.000017
```

### 计算流程
```python
congestion_index = Multiplier * (
    K_ebike  * ebike_count +
    K_bus    * bus_count +
    K_walk   * pedestrian_count +
    K_car    * car_count +
    K_length * road_length_km +
    K_type   * road_type_code
) + Intercept
```

### 输出
- `congestion_index` : 拥堵指数（0–1，值越高越拥堵）
